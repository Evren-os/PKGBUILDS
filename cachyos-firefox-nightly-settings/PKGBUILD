# Maintainer: Evrenos <evrnos@proton.me>
pkgname=cachyos-firefox-nightly-settings
pkgver=20251031
pkgrel=1
pkgdesc='CachyOS settings for Firefox Nightly'
depends=('firefox-nightly' 'xdg-desktop-portal-impl')
arch=('any')
license=(GPL-3.0-or-later)
backup=('etc/firefox/policies/policies.json')
url="https://github.com/CachyOS/CachyOS-PKGBUILDS/tree/master/cachyos-firefox-settings"
conflicts=(firefox-settings)
provides=(firefox-settings)
source=(
    cachyos.js
    policies.json
)
sha256sums=('ed4752c5b7957452228b3198694ef70b8a48b4f25826fa8840e36f76f0f9973e'
            '4e362c54d2891a80b605ae1996205c7d66ba971a54a038b2f261c7d263094a81')

pkgver() {
    date +%Y%m%d
}

package() {
    install -Dm644 cachyos.js "$pkgdir/usr/lib/firefox-nightly/browser/defaults/preferences/cachyos.js"
    install -Dm644 policies.json "$pkgdir/usr/lib/firefox-nightly/distribution/policies.json"
}
